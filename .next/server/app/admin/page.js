(()=>{var e={};e.id=698,e.ids=[698],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8882:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/zubair/design-in-studio-service/src/app/admin/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/zubair/design-in-studio-service/src/app/admin/page.jsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},36592:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(60687),a=s(43210),l=s(46991);function i(){let[e,t]=(0,a.useState)("portfolio"),[s,i]=(0,a.useState)([]),[o,n]=(0,a.useState)({title:"",slug:"",description:"",images:[],category:"",client:"",location:"",software:[""],dated:new Date().toISOString().split("T")[0]}),[d,c]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),h=(0,a.useRef)(null),f=(0,a.useRef)(null),j=e=>{let{name:t,value:s}=e.target;n(e=>({...e,[t]:s}))},y=async e=>{e.preventDefault(),p(!0),b(null);try{let e,t=o.slug||o.title.toLowerCase().replace(/\s+/g,"-"),r={...o,slug:t,images:o.images.map(e=>e.url)};if(d)e=s.map(e=>e.id===d?{...r,id:d}:e);else{let t=Math.max(...s.map(e=>e.id),0)+1;e=[...s,{...r,id:t}]}if(!(await fetch("/api/save-portfolio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to save data");i(e),x(!1),w()}catch(e){b(e.message)}finally{p(!1)}},v=e=>{let t=s.find(t=>t.id===e);t&&(n({...t,images:t.images.map(e=>({id:crypto.randomUUID(),url:e}))}),c(e),x(!0))},N=async e=>{if(confirm("Are you sure you want to delete this item?"))try{p(!0);let t=s.filter(t=>t.id!==e);await fetch("/api/save-portfolio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),i(t)}catch(e){b(e.message)}finally{p(!1)}},w=()=>{n({title:"",slug:"",description:"",images:[],category:"",client:"",location:"",software:[""],dated:new Date().toISOString().split("T")[0]}),c(null)};return(0,r.jsxs)("div",{className:"flex h-screen bg-gray-900 text-gray-200",children:[(0,r.jsxs)("div",{className:"w-64 bg-gray-800 border-r border-gray-700 p-4",children:[(0,r.jsx)("h1",{className:"text-xl font-bold mb-6",children:"Portfolio Admin"}),(0,r.jsx)("nav",{className:"space-y-2",children:["portfolio","categories","settings"].map(s=>(0,r.jsxs)("button",{onClick:()=>t(s),className:`flex items-center w-full p-3 rounded-lg transition-colors ${e===s?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[(0,r.jsx)(l.In,{icon:"portfolio"===s?"mdi:image-multiple":"categories"===s?"mdi:tag-multiple":"mdi:cog",className:"mr-3 text-lg"}),s.charAt(0).toUpperCase()+s.slice(1)]},s))})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsxs)("header",{className:"bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold capitalize",children:"portfolio"===e?"Projects":e}),"portfolio"===e&&(0,r.jsxs)("button",{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,r.jsx)(l.In,{icon:"mdi:plus",className:"mr-2"}),"Add Project"]})]}),(0,r.jsx)("main",{className:"flex-1 overflow-auto p-6",children:"portfolio"===e&&(0,r.jsx)("div",{className:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden",children:0===s.length?(0,r.jsxs)("div",{className:"p-8 text-center text-gray-400",children:[(0,r.jsx)(l.In,{icon:"mdi:image-off",className:"text-4xl mx-auto mb-4"}),(0,r.jsx)("p",{children:"No projects found. Add your first project!"})]}):(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-700 text-gray-300",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"p-4 text-left",children:"Project"}),(0,r.jsx)("th",{className:"p-4 text-left",children:"Category"}),(0,r.jsx)("th",{className:"p-4 text-left",children:"Date"}),(0,r.jsx)("th",{className:"p-4 text-left",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-700",children:s.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-750",children:[(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[e.images?.[0]&&(0,r.jsx)("img",{src:e.images[0],alt:e.title,className:"w-10 h-10 rounded-md object-cover mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:e.client})]})]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("span",{className:"inline-block bg-gray-700 px-3 py-1 rounded-full text-sm",children:e.category})}),(0,r.jsx)("td",{className:"p-4 text-gray-400",children:e.dated}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>v(e.id),className:"text-blue-400 hover:text-blue-300 p-2",children:(0,r.jsx)(l.In,{icon:"mdi:pencil"})}),(0,r.jsx)("button",{onClick:()=>N(e.id),className:"text-red-400 hover:text-red-300 p-2",children:(0,r.jsx)(l.In,{icon:"mdi:trash"})})]})})]},e.id))})]})})})]}),m&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center p-4 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{ref:f,className:"bg-gray-800 rounded-xl border border-gray-700 p-6 w-full max-w-2xl my-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:d?"Edit Project":"Add New Project"}),(0,r.jsx)("button",{onClick:()=>{x(!1),w()},className:"text-gray-400 hover:text-white p-1",children:(0,r.jsx)(l.In,{icon:"mdi:close",className:"text-2xl"})})]}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title*"}),(0,r.jsx)("input",{type:"text",name:"title",value:o.title,onChange:j,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Slug"}),(0,r.jsx)("input",{type:"text",name:"slug",value:o.slug,onChange:j,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"auto-generated"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category*"}),(0,r.jsx)("input",{type:"text",name:"category",value:o.category,onChange:j,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),(0,r.jsx)("input",{type:"date",name:"dated",value:o.dated,onChange:j,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,r.jsx)("textarea",{name:"description",value:o.description,onChange:j,rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Images"}),(0,r.jsx)("input",{type:"file",ref:h,onChange:e=>{let t=Array.from(e.target.files).map(e=>({id:crypto.randomUUID(),url:URL.createObjectURL(e),file:e}));n(e=>({...e,images:[...e.images,...t]}))},className:"hidden",multiple:!0,accept:"image/*"}),(0,r.jsxs)("button",{type:"button",onClick:()=>h.current.click(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mb-3 flex items-center",children:[(0,r.jsx)(l.In,{icon:"mdi:upload",className:"mr-2"}),"Upload Images"]}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-3",children:o.images.map(e=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("img",{src:e.url,alt:"Preview",className:"w-full h-28 object-cover rounded-lg"}),(0,r.jsx)("button",{type:"button",onClick:()=>removeImage(e.id),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,r.jsx)(l.In,{icon:"mdi:close",className:"text-sm"})})]},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Software Used"}),o.software.map((e,t)=>(0,r.jsxs)("div",{className:"flex mb-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>handleArrayChange("software",t,e.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded-l-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Software name"}),(0,r.jsx)("button",{type:"button",onClick:()=>removeArrayItem("software",t),className:"bg-red-600 hover:bg-red-700 text-white px-4 rounded-r-lg",children:(0,r.jsx)(l.In,{icon:"mdi:minus"})})]},t)),(0,r.jsxs)("button",{type:"button",onClick:()=>addArrayItem("software"),className:"mt-2 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,r.jsx)(l.In,{icon:"mdi:plus",className:"mr-2"}),"Add Software"]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{x(!1),w()},className:"px-6 py-2 rounded-lg text-gray-300 hover:text-white bg-gray-700 hover:bg-gray-600",children:"Cancel"}),(0,r.jsxs)("button",{type:"submit",disabled:u,className:"px-6 py-2 rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 flex items-center",children:[u&&(0,r.jsx)(l.In,{icon:"mdi:loading",className:"animate-spin mr-2"}),d?"Update Project":"Add Project"]})]})]})]})}),u&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),g&&(0,r.jsxs)("div",{className:"fixed bottom-4 right-4 bg-red-600 text-white px-4 py-3 rounded-lg shadow-lg flex items-start max-w-md z-50",children:[(0,r.jsx)(l.In,{icon:"mdi:alert-circle",className:"text-xl mr-2 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Error"}),(0,r.jsx)("p",{className:"text-sm",children:g})]}),(0,r.jsx)("button",{onClick:()=>b(null),className:"ml-4 text-xl",children:"\xd7"})]})]})}},55529:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(65239),a=s(48088),l=s(88170),i=s.n(l),o=s(30893),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let d={children:["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8882)),"/home/zubair/design-in-studio-service/src/app/admin/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,75535)),"/home/zubair/design-in-studio-service/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,43867)),"/home/zubair/design-in-studio-service/src/app/not-found.jsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/zubair/design-in-studio-service/src/app/admin/page.jsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},56546:(e,t,s)=>{Promise.resolve().then(s.bind(s,36592))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},88090:(e,t,s)=>{Promise.resolve().then(s.bind(s,8882))}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[719,501,548],()=>s(55529));module.exports=r})();